{"version":3,"file":"app.js","sources":["../src/modules/constants.ts","../src/modules/styles.ts","../src/app.ts"],"sourcesContent":[null,null,null],"names":["THEMESTYLES","CUSTEVENTS","buttonStyles","backgroundColor","width","padding","borderRadius","fill","stroke","boxShadow","cursor","transition","position","buttonSpanStyle","top","right","display","height","alignItems","justifyContent","fontSize","color","wrapperStyles","bottom","zIndex","flexDirection","gap","iframeWrapperStyles","maxWidth","maxHeight","state","iframeSrc","eventsTracker","messageIcon","closeIcon","eventTarget","EventTarget","messageHandler","e","data","type","this","updateUnreadCount","count","isOpen","Notification","body","message","dispatchEvent","CustomEvent","addEventListener","listener","removeEventListener","event","elements","iframeWrapper","unreadCountElement","buttonElement","iframe","wrapper","constructor","loading","theme","isInitialized","init","apiKey","config","window","requestPermission","attachEventListeners","document","createElement","applyWrapperStyles","createButton","applyButtonStyles","buttonColor","createIframe","welcomeMessage","sendToIframe","isAdmin","appendChild","autoOpen","open","sendMessage","text","metadata","trim","console","log","close","toggle","destroy","remove","setUser","userInfo","innerHTML","toString","style","button","bind","span","Object","assign","append","container","src","customStyle","split","length","vertical","horizontal","payload","contentWindow","postMessage","widgetOpenedCallback","widgetCloseCallback","frame","setProperty","classList","add","setTimeout","events"],"mappings":"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"}